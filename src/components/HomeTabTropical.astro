---
import { getI18N } from "@/i18n";
import { getRelativeLocaleUrl } from "astro:i18n";
import { getLangFromUrl } from "@/i18n/utils";
import { Image } from "astro:assets";

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
const lang = getLangFromUrl(Astro.url);

const productAvocado = await import(`../content/${lang}/avocado.md`);
const productMango = await import(`../content/${lang}/mango.md`);
const productPlantain = await import(`../content/${lang}/plantain.md`);
---

<div class="px-4 mx-auto w-full h-auto max-w-xl pt-20">
  <div
    class="h-auto w-full text-center items-center grid grid-cols-2 grid-rows-2 border-2 border-gray-100 rounded"
  >
    <a
      href={`${getRelativeLocaleUrl(lang, "product")}${productMango.frontmatter.slug}`}
      class="xl:mb-0 border-r-2 border-gray-100"
    >
      <article class="flex flex-col w-full relative">
        <Image
          src={`/${productMango.frontmatter.img}`}
          alt={`${productMango.frontmatter.title} - Exported Globally by Tranding Global Produce Rofim`}
          class="w-full h-full block"
          width={600}
          height={600}
          format="webp"
          quality={"mid"}
        />

        <div
          class="w-full h-full top-0 left-0 flex flex-col justify-end items-center pt-4 pb-1 absolute"
        >
          <h2
            class="text-md md:text-2xl font-bold leading-tight text-secondary bg-green-100/80 rounded-2xl px-2 py-1 mb-2"
          >
            {productMango.frontmatter.title}
          </h2>
        </div>
      </article>
    </a>

    <a
      href={`${getRelativeLocaleUrl(lang, "product")}${productAvocado.frontmatter.slug}`}
      class="xl:mb-0 border-b-2 border-gray-100"
    >
      <article class="flex flex-col w-full relative">
        <Image
          src={`/${productAvocado.frontmatter.img}`}
          alt={`${productAvocado.frontmatter.title} - Exported Globally by Tranding Global Produce Rofim`}
          class="w-full h-full block"
          width={600}
          height={600}
          format="webp"
          quality={"mid"}
        />

        <div
          class="w-full h-full top-0 left-0 flex flex-col justify-end items-center pt-4 pb-1 absolute"
        >
          <h2
            class="text-md md:text-2xl font-bold leading-tight text-secondary bg-green-100/80 rounded-2xl px-2 py-1 mb-2"
          >
            {productAvocado.frontmatter.title}
          </h2>
        </div>
      </article>
    </a>

    <a
      href={`${getRelativeLocaleUrl(lang, "product")}${productPlantain.frontmatter.slug}`}
      class="xl:mb-0 border-t-2 border-gray-100"
    >
      <article class="flex flex-col w-full relative">
        <Image
          src={`/${productPlantain.frontmatter.img}`}
          alt={`${productPlantain.frontmatter.title} - Exported Globally by Tranding Global Produce Rofim`}
          class="w-full h-full block"
          width={600}
          height={600}
          format="webp"
          quality={"mid"}
        />

        <div
          class="w-full h-full top-0 left-0 flex flex-col justify-end items-center pt-4 pb-1 absolute"
        >
          <h2
            class="text-md md:text-2xl font-bold leading-tight text-secondary bg-green-100/80 rounded-2xl px-2 py-1 mb-2"
          >
            {productPlantain.frontmatter.title}
          </h2>
        </div>
      </article>
    </a>

    <div
      class="w-full h-full flex flex-col justify-center items-center text-white border-l-2 border-gray-100 bg-secondary"
    >
      <p class="pb-3 px-1">{i18n.TABS.TAB_TROPICAL.TAB_P}</p>
      <a
        href={getRelativeLocaleUrl(lang, "products")}
        class="px-2 py-1 rounded-2xl bg-green-100 text-secondary font-bold"
        >{i18n.TABS.TAB_TROPICAL.TAB_LINK}</a
      >
    </div>
  </div>
</div>
