---
import { getI18N } from "@/i18n";
import { getRelativeLocaleUrl } from "astro:i18n";
import { getLangFromUrl } from "@/i18n/utils";
import { Image } from "astro:assets";

const { currentLocale } = Astro;
const i18n = getI18N({ currentLocale });
const lang = getLangFromUrl(Astro.url);

const productPumpkin = await import(`../content/${lang}/pumpkin.md`);
const productSweetPotatoe = await import(`../content/${lang}/sweetPotatoe.md`);
const productGarlic = await import(`../content/${lang}/garlic.md`);
---

<div class="px-4 mx-auto w-full h-auto max-w-xl pt-20">
  <div
    class="h-auto w-full text-center items-center grid grid-cols-2 grid-rows-2 border-2 border-gray-100 rounded"
  >
    <a
      href={`${getRelativeLocaleUrl(lang, "product")}${productPumpkin.frontmatter.slug}`}
      class="xl:mb-0 border-r-2 border-gray-100"
    >
      <article class="flex flex-col w-full relative">
        <Image
          src={`/${productPumpkin.frontmatter.img}`}
          alt={`${productPumpkin.frontmatter.title} - Exported Globally by Tranding Global Produce Rofim`}
          class="w-full block h-full"
          width={600}
          height={600}
          format="webp"
          quality={"mid"}
        />

        <div
          class="w-full h-full top-0 left-0 flex flex-col justify-end items-center pt-4 pb-1 absolute"
        >
          <h2
            class="text-md md:text-2xl font-bold leading-tight text-yellow-800 bg-yellow-100/80 rounded-2xl px-2 py-1 mb-2"
          >
            {productPumpkin.frontmatter.title}
          </h2>
        </div>
      </article>
    </a>

    <a
      href={`${getRelativeLocaleUrl(lang, "product")}${productSweetPotatoe.frontmatter.slug}`}
      class="xl:mb-0 border-b-2 border-gray-100"
    >
      <article class="flex flex-col w-full relative">
        <Image
          src={`/${productSweetPotatoe.frontmatter.img}`}
          alt={`${productSweetPotatoe.frontmatter.title} - Exported Globally by Tranding Global Produce Rofim`}
          class="w-full h-full block"
          width={600}
          height={600}
          format="webp"
          quality={"mid"}
        />

        <div
          class="w-full h-full top-0 left-0 flex flex-col justify-end items-center pt-4 pb-1 absolute"
        >
          <h2
            class="text-md md:text-2xl font-bold leading-tight text-yellow-800 bg-yellow-100/80 rounded-2xl px-2 py-1 mb-2"
          >
            {productSweetPotatoe.frontmatter.title}
          </h2>
        </div>
      </article>
    </a>

    <a
      href={`${getRelativeLocaleUrl(lang, "product")}${productGarlic.frontmatter.slug}`}
      class="xl:mb-0 border-t-2 border-gray-100"
    >
      <article class="flex flex-col w-full relative">
        <Image
          src={`/${productGarlic.frontmatter.img}`}
          alt={`${productGarlic.frontmatter.title} - Exported Globally by Tranding Global Produce Rofim`}
          class="w-full h-full block"
          width={600}
          height={600}
          format="webp"
          quality={"mid"}
        />

        <div
          class="w-full h-full top-0 left-0 flex flex-col justify-end items-center pt-4 pb-1 absolute"
        >
          <h2
            class="text-md md:text-2xl font-bold leading-tight text-yellow-800 bg-yellow-100/80 rounded-2xl px-2 py-1 mb-2"
          >
            {productGarlic.frontmatter.title}
          </h2>
        </div>
      </article>
    </a>

    <div
      class="w-full h-full flex flex-col justify-center items-center text-white border-l-2 border-gray-100 bg-yellow-800"
    >
      <p class="pb-3 px-2">{i18n.TABS.TAB_ROOTS.TAB_P}</p>
      <a
        href={getRelativeLocaleUrl(lang, "products")}
        class="px-2 py-1 font-bold rounded-2xl text-yellow-800 bg-yellow-100"
        >{i18n.TABS.TAB_ROOTS.TAB_LINK}</a
      >
    </div>
  </div>
</div>
